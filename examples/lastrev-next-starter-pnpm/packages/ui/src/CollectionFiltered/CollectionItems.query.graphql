query CollectionItems(
  $locale: String
  $preview: Boolean
  $id: String!
  $limit: Int = 10
  $offset: Int = 0
  $filter: CollectionFilterInput
) {
  content(id: $id, locale: $locale, preview: $preview) {
    __typename
    id
    ... on Collection {
      ...Content_BaseFragment
      itemsConnection(limit: $limit, offset: $offset, filter: $filter) {
        pageInfo {
          total
          allOptions {
            ...CollectionItems_OptionsFragment
          }
          options {
            ...CollectionItems_OptionsFragment
          }
        }
        items {
          ...Card_BaseFragment
        }
      }
    }
    ... on CollectionDynamic {
      ...Content_BaseFragment
      itemsConnection(limit: $limit, offset: $offset, filter: $filter) {
        pageInfo {
          total
          allOptions {
            ...CollectionItems_OptionsFragment
          }
          options {
            ...CollectionItems_OptionsFragment
          }
        }
        items {
          ...Card_BaseFragment
        }
      }
    }
  }
}

fragment CollectionItems_OptionsFragment on CollectionOption {
  key
  values
  # Collection options that get exposed to the UI
  # These are the same as the options in the Collection extension
  # i.e
  # topics {
  #   label
  #   value
  # }
}
