fragment CollectionDynamic_FieldsFragment on CollectionDynamic {
  ...Content_BaseFragment
  introText {
    ...Text_IntroTextFragment
  }
  variant
  itemsVariant
  itemsAspectRatio
  backgroundImage {
    ...Media_BaseFragment
  }
  backgroundColor
  isCarouselDesktop
  isCarouselTablet
  isCarouselMobile
  itemsPerRow
  inheritTopBGOverlap
  settings
  showFilters
}

# Base fragment used everywhere there's a Collection
fragment CollectionDynamic_BaseFragment on CollectionDynamic {
  ...CollectionDynamic_FieldsFragment
  items {
    ...Card_BaseFragment
  }
  itemsConnection {
    pageInfo {
      options {
        tags {
          label
          value
        }
        topics {
          label
          value
        }
        sector {
          label
          value
        }
      }
      allOptions {
        tags {
          label
          value
        }
        topics {
          label
          value
        }
        sector {
          label
          value
        }
      }
      total
    }
    items {
      ...Card_BaseFragment
    }
  }
}

# Specific fragment used for the RichText embedded entries
fragment CollectionDynamic_RichTextFragment on CollectionDynamic {
  ...CollectionDynamic_FieldsFragment
  items {
    ...Card_RichTextFragment
  }
}
